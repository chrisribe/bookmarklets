javascript:!function(){"use strict";const n="page-analyzer",e=n+"-"+function(n){let e=0;for(let t=0;t<n.length;t++){e=(e<<5)-e+n.charCodeAt(t),e&=e}return Math.abs(e).toString(36)}(n);try{const t=document.getElementById(e);t&&t.remove();const s=document.getElementById(e+"-styles");function o(){const n={divs:document.querySelectorAll("div").length,images:document.querySelectorAll("img").length,links:document.querySelectorAll("a").length,buttons:document.querySelectorAll("button").length,inputs:document.querySelectorAll("input").length,scripts:document.querySelectorAll("script").length,stylesheets:document.querySelectorAll('link[rel="stylesheet"]').length,title:document.title||"No title",url:window.location.href,domain:window.location.hostname,wordCount:document.body?document.body.innerText.split(/\s+/).filter(n=>n.length>0).length:0,scrollHeight:document.documentElement.scrollHeight,viewportHeight:window.innerHeight},e=[];return n.divs>100&&e.push(`🏗️ This page is div-heavy with ${n.divs} divs!`),n.images>20&&e.push(`📸 Image-rich page with ${n.images} images`),n.wordCount>1e3&&e.push(`📚 Long read: ~${Math.round(n.wordCount/200)} min read time`),n.scrollHeight>3*n.viewportHeight&&e.push(`📜 Tall page: ${Math.round(n.scrollHeight/n.viewportHeight)}x viewport height`),n.scripts>10&&e.push(`⚡ Script-heavy: ${n.scripts} JavaScript files`),{stats:n,facts:e}}s&&s.remove();let i=!1;function a(){const n=document.getElementById(e+"-toggle-divs"),t=n.querySelector(".toggle-text");i?(document.querySelectorAll("div").forEach(n=>{n.style.outline="",n.style.outlineOffset=""}),n.classList.remove("active"),t.textContent="Highlight Divs",i=!1):(document.querySelectorAll("div").forEach(n=>{n.id!==e&&(n.style.outline="2px solid red",n.style.outlineOffset="1px")}),n.classList.add("active"),t.textContent="Remove Highlights",i=!0)}function l(){r()}function r(){const{stats:n,facts:t}=o(),s={divs:n.divs,images:n.images,links:n.links,scripts:n.scripts,words:n.wordCount,domain:n.domain};Object.entries(s).forEach(([n,t])=>{const s=document.getElementById(e+"-"+n);s&&(s.textContent=t)});const i=document.getElementById(e+"-facts");i&&(i.innerHTML=t.length>0?t.map(n=>`<div class="fact-item">${n}</div>`).join(""):'<div class="fact-item">✨ This is a clean, well-structured page!</div>')}const c='<div id="{{BOOKMARKLET_ID}}">\n    <div class="header">\n        <h3>📊 Page Analyzer</h3>\n        <button class="close-btn" onclick="{{CLOSE_HANDLER}}">×</button>\n    </div>\n    \n    <div class="content">\n        <div class="stats-grid">\n            <div class="stat-item">\n                <span class="stat-label">Elements:</span>\n                <span class="stat-value" id="{{BOOKMARKLET_ID}}-divs">-</span>\n            </div>\n            <div class="stat-item">\n                <span class="stat-label">Images:</span>\n                <span class="stat-value" id="{{BOOKMARKLET_ID}}-images">-</span>\n            </div>\n            <div class="stat-item">\n                <span class="stat-label">Links:</span>\n                <span class="stat-value" id="{{BOOKMARKLET_ID}}-links">-</span>\n            </div>\n            <div class="stat-item">\n                <span class="stat-label">Scripts:</span>\n                <span class="stat-value" id="{{BOOKMARKLET_ID}}-scripts">-</span>\n            </div>\n            <div class="stat-item">\n                <span class="stat-label">Words:</span>\n                <span class="stat-value" id="{{BOOKMARKLET_ID}}-words">-</span>\n            </div>\n            <div class="stat-item">\n                <span class="stat-label">Domain:</span>\n                <span class="stat-value" id="{{BOOKMARKLET_ID}}-domain">-</span>\n            </div>\n        </div>\n        \n        <div class="facts-section">\n            <h4>🎯 Page Insights</h4>\n            <div id="{{BOOKMARKLET_ID}}-facts" class="facts-list">\n                \x3c!-- Facts will be populated by JavaScript --\x3e\n            </div>\n        </div>\n        \n        <div class="controls">\n            <button class="toggle-btn" id="{{BOOKMARKLET_ID}}-toggle-divs" onclick="{{TOGGLE_DIVS_HANDLER}}">\n                <span class="toggle-text">Highlight Divs</span>\n            </button>\n            <button class="action-btn" onclick="{{REFRESH_HANDLER}}">🔄 Refresh</button>\n        </div>\n    </div>\n</div>\n',d="#{{BOOKMARKLET_ID}} {\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    width: 320px;\n    max-height: 80vh;\n    background: rgba(255, 255, 255, 0.98);\n    backdrop-filter: blur(20px);\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    border-radius: 12px;\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    font-size: 14px;\n    line-height: 1.4;\n    color: #1d1d1f;\n    z-index: 999999;\n    overflow: hidden;\n}\n\n#{{BOOKMARKLET_ID}} .header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 16px 20px;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n    background: rgba(247, 247, 247, 0.8);\n}\n\n#{{BOOKMARKLET_ID}} .header h3 {\n    margin: 0;\n    font-size: 16px;\n    font-weight: 600;\n    color: #1d1d1f;\n}\n\n#{{BOOKMARKLET_ID}} .close-btn {\n    background: none;\n    border: none;\n    font-size: 20px;\n    color: #8e8e93;\n    cursor: pointer;\n    padding: 0;\n    width: 24px;\n    height: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 6px;\n    transition: all 0.2s ease;\n}\n\n#{{BOOKMARKLET_ID}} .close-btn:hover {\n    background: rgba(0, 0, 0, 0.1);\n    color: #1d1d1f;\n}\n\n#{{BOOKMARKLET_ID}} .content {\n    padding: 20px;\n    max-height: calc(80vh - 70px);\n    overflow-y: auto;\n}\n\n#{{BOOKMARKLET_ID}} .stats-grid {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 12px;\n    margin-bottom: 20px;\n}\n\n#{{BOOKMARKLET_ID}} .stat-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 8px 12px;\n    background: rgba(0, 122, 255, 0.08);\n    border-radius: 8px;\n}\n\n#{{BOOKMARKLET_ID}} .stat-label {\n    font-weight: 500;\n    color: #1d1d1f;\n}\n\n#{{BOOKMARKLET_ID}} .stat-value {\n    font-weight: 600;\n    color: #007aff;\n}\n\n#{{BOOKMARKLET_ID}} .facts-section {\n    margin-bottom: 20px;\n}\n\n#{{BOOKMARKLET_ID}} .facts-section h4 {\n    margin: 0 0 12px 0;\n    font-size: 14px;\n    font-weight: 600;\n    color: #1d1d1f;\n}\n\n#{{BOOKMARKLET_ID}} .facts-list {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n#{{BOOKMARKLET_ID}} .fact-item {\n    padding: 8px 12px;\n    background: rgba(52, 199, 89, 0.08);\n    border-radius: 6px;\n    font-size: 13px;\n    color: #1d1d1f;\n    border-left: 3px solid #34c759;\n}\n\n#{{BOOKMARKLET_ID}} .controls {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n#{{BOOKMARKLET_ID}} .toggle-btn, #{{BOOKMARKLET_ID}} .action-btn {\n    padding: 10px 16px;\n    border: 1px solid rgba(0, 122, 255, 0.3);\n    border-radius: 8px;\n    background: rgba(0, 122, 255, 0.08);\n    color: #007aff;\n    font-size: 13px;\n    font-weight: 500;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    text-align: center;\n}\n\n#{{BOOKMARKLET_ID}} .toggle-btn:hover, #{{BOOKMARKLET_ID}} .action-btn:hover {\n    background: rgba(0, 122, 255, 0.15);\n    border-color: rgba(0, 122, 255, 0.5);\n}\n\n#{{BOOKMARKLET_ID}} .toggle-btn.active {\n    background: #007aff;\n    color: white;\n    border-color: #007aff;\n}\n\n#{{BOOKMARKLET_ID}} .toggle-btn.active:hover {\n    background: #0056cc;\n    border-color: #0056cc;\n}\n".replace(/\{\{BOOKMARKLET_ID\}\}/g,e),g=document.createElement("style");g.textContent=d,g.id=e+"-styles",document.head.appendChild(g);const p=e.replace(/-/g,"_"),u=document.createElement("div");u.innerHTML=c.replace(/\{\{BOOKMARKLET_ID\}\}/g,e).replace(/\{\{CLOSE_HANDLER\}\}/g,`(function(){document.getElementById('${e}').remove();document.getElementById('${e}-styles').remove();})()`).replace(/\{\{TOGGLE_DIVS_HANDLER\}\}/g,`window.${p}_toggleDivs()`).replace(/\{\{REFRESH_HANDLER\}\}/g,`window.${p}_refresh()`),document.body.appendChild(u.firstElementChild),console.log("Page Analyzer loaded with ID:",e),console.log("Panel element:",document.getElementById(e)),window[p+"_toggleDivs"]=a,window[p+"_refresh"]=l,r()}catch(h){console.error("Page Analyzer Error:",h),alert("Page Analyzer encountered an error. Check the console for details.")}}();